# testy
Тестирование веб-приложений

### Установка

Необходимо добавить в `package.json` тестируемого приложения 
```
"scripts": {
    "preinstall": "npm install ../testy -g && npm install ../testy --save-dev"
  },
```
где `../testy` относительный путь к папке с проектом модуля для тестирования; после чего вызвать из командной строки ```npm install```. Таким образом произойдет локальная установка модуля тестирования в node_modules.

### Запуск

В корень проекта необходимо добавить директорию `/test` с .js файлами, содержащими тесты, и файл `config.js` с указанием сервера, на котором запускается приложение.

```
const server = {
    host: 'localhost',
    port: 3005,
};

module.exports = server;
```
> В проекте **chatmodel** (https://github.com/anyasinyavskaya/chatmodel) уже созданы все необходимые файлы и папки, описанные выше

Для запуска тестов из корня проекта с приложением вызвать: 
```
testy --config
```

Без указания ```--config``` будет принято значение по умолчанию:
```
    host: 'localhost',
    port: 3000,
```
### Примеры тестов

Пример post-запроса. Первой строкой опционально указывается название теста, затем url запроса. 
```
module.exports = [

    'Авторизация',
    '/login',

    {
        method: 'POST',

        params: {
            username: 'anyasinyavskaya1',
            password: '1999'
        },

        result: {
            status: 302
        }
    }
];    
```







